#!/usr/bin/env php
<?php

declare(strict_types=1);

use App\Command\TestKafkaWorkerCommand;
use Symfony\Component\Console\Application;
use App\Command\WorkerStartedCommand;

require 'vendor/autoload.php';

$container = require 'config/container.php';

$application = new Application();

$commands = [
    new WorkerStartedCommand(),
    new TestKafkaWorkerCommand(),
];

foreach ($commands as $command) {
    $command->setContainer($container);
    $application->addCommand($command);
}

$application->run();
